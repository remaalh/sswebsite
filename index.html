<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>how well do you know rema</title>
<style>
  :root{
    --bg: #fff6fb;
    --card:#ffffff;
    --accent:#ff77a9;
    --accent-2:#7ac8ff;
    --ink:#2b2b2b;
  }
  *{box-sizing:border-box}
  body{
    margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    color:var(--ink);
    background:
      radial-gradient(900px 500px at 15% -10%, #ffe3ef 0%, transparent 60%),
      radial-gradient(900px 500px at 100% 0%, #e6f5ff 0%, transparent 60%),
      var(--bg);
    min-height:100svh; display:flex; align-items:center; justify-content:center; padding:24px;
  }
  .app{
    width:min(720px, 100%);
    background:var(--card);
    border-radius:24px; padding:28px;
    box-shadow:0 16px 40px rgba(0,0,0,.08);
    position:relative; overflow:hidden;
    animation:pop .45s ease-out both;
  }
  @keyframes pop{from{transform:scale(.98); opacity:0} to{transform:scale(1); opacity:1}}
  h1{margin:0 0 8px; text-align:center; text-transform: lowercase;}
  .sub{margin:0 0 18px; text-align:center; color:#666}
  .page{display:none}
  .page.active{display:block}
  .card{background:#f9fbff; border:1px solid #eef3ff; border-radius:18px; padding:16px}
  .qtext{margin:0 0 10px; font-weight:600}
  .answers label{
    display:flex; align-items:center; gap:10px;
    background:#fff; border:1px solid #ececec; border-radius:14px;
    padding:10px 12px; margin:6px 0; cursor:pointer; transition:transform .05s ease-in;
  }
  .answers label:active{ transform:scale(.99) }
  .answers input{ accent-color:var(--accent); }
  .progress{ text-align:center; font-size:14px; color:#777; margin:10px 0 6px }
  .btnrow{ display:flex; gap:10px; justify-content:center; margin-top:16px; flex-wrap:wrap }
  button{
    border:0; padding:12px 18px; border-radius:14px; font-weight:600; cursor:pointer;
    transition:transform .05s ease-in, box-shadow .2s ease;
  }
  .primary{ background:linear-gradient(135deg, var(--accent), #ff9fbd); color:#fff; box-shadow:0 6px 14px rgba(255,119,169,.35) }
  .ghost{ background:#eef6ff; color:#0d5ea7 }
  button:active{ transform:translateY(1px) }
  .hint{ text-align:center; color:#a00; font-size:13px; margin-top:8px; display:none }
  .result{
    margin-top:12px; text-align:center; font-weight:700; font-size:18px;
    padding:14px; border-radius:14px; display:none;
  }
  .good{ background:#e9fff0; color:#0b7a36; border:1px solid #c8ffd8 }
  .ok{ background:#fff9e9; color:#8a5b00; border:1px solid #ffecb5 }
  .bad{ background:#ffe9ec; color:#9a1f3d; border:1px solid #ffd0da }
  footer{ text-align:center; margin-top:10px; color:#888; font-size:12px }
  /* tiny floating hearts for perfect score */
  .heart{
    position:absolute; width:16px; height:16px; border-radius:50%;
    background: radial-gradient(circle at 30% 30%, #fff 0 20%, transparent 40%), var(--accent);
    transform: translate(-50%, -50%) rotate(45deg);
    animation: float 1.2s ease-out forwards;
    pointer-events:none;
  }
  .heart::after,.heart::before{ content:''; position:absolute; width:16px; height:16px; background:var(--accent); border-radius:50% }
  .heart::before{ left:-8px } .heart::after{ top:-8px }
  @keyframes float{ to{ transform: translate(-50%, calc(-50% - 100px)) rotate(45deg); opacity:0 } }
</style>
</head>
<body>
  <main class="app" id="app">
    <h1>how well do you know rema</h1>
    <p class="sub">three quick questions. no pressure… okay, a little pressure 😇</p>

    <!-- Page 0: Welcome -->
    <section class="page active" id="page-welcome" aria-labelledby="start-title">
      <div class="card">
        <h2 id="start-title" style="margin-top:0">ready to play?</h2>
        <p>click start, pick one answer per question, then see how you did at the end.</p>
      </div>
      <div class="btnrow">
        <button class="primary" id="startBtn" type="button">Start</button>
      </div>
    </section>

    <!-- Page 1..3: Questions will render here -->
    <section class="page" id="page-question">
      <div class="progress" id="progress"></div>
      <div class="card">
        <p class="qtext" id="qtext"></p>
        <div class="answers" id="answers"></div>
        <div class="hint" id="hint">choose an option to continue</div>
      </div>
      <div class="btnrow">
        <button class="ghost" id="backBtn" type="button">Back</button>
        <button class="primary" id="nextBtn" type="button">Next</button>
      </div>
    </section>

    <!-- Page 4: Result -->
    <section class="page" id="page-result">
      <div class="card">
        <h2 style="margin-top:0">final score</h2>
        <p class="progress" id="summary"></p>
        <div id="resultBox" class="result"></div>
      </div>
      <div class="btnrow">
        <button class="ghost" id="retryBtn" type="button">Try again</button>
      </div>
      <footer>made with 💖 for you</footer>
    </section>
  </main>

<script>
  // --- quiz data: 3 questions, 3 options each, exactly one correctIndex
  const quiz = [
    {
      text: "what’s my go-to comfort snack?",
      options: ["spicy chips", "chocolate anything", "ice cream"],
      correctIndex: 1
    },
    {
      text: "ideal date night?",
      options: ["cook together + movie", "club until 3am", "gym & meal prep"],
      correctIndex: 0
    },
    {
      text: "which daily love language hits hardest?",
      options: ["surprise gifts", "texts/calls checking on me", "public compliments"],
      correctIndex: 1
    }
  ];

  // --- state
  let step = 0;                 // 0 welcome, 1..3 questions, 4 result
  let answers = new Array(quiz.length).fill(null);

  // --- elements
  const pages = {
    welcome: document.getElementById('page-welcome'),
    question: document.getElementById('page-question'),
    result: document.getElementById('page-result')
  };
  const qtext = document.getElementById('qtext');
  const answersWrap = document.getElementById('answers');
  const progress = document.getElementById('progress');
  const hint = document.getElementById('hint');
  const resultBox = document.getElementById('resultBox');
  const summary = document.getElementById('summary');
  const app = document.getElementById('app');

  // --- navigation helpers
  function showPage(which){
    Object.values(pages).forEach(p => p.classList.remove('active'));
    which.classList.add('active');
  }

  function renderQuestion(index){
    const q = quiz[index];
    progress.textContent = `question ${index+1} of ${quiz.length}`;
    qtext.textContent = q.text;

    // build radio options
    answersWrap.innerHTML = '';
    q.options.forEach((opt, i) => {
      const id = `q${index}-opt${i}`;
      const label = document.createElement('label');
      label.setAttribute('for', id);
      const input = document.createElement('input');
      input.type = 'radio';
      input.name = `q${index}`;
      input.id = id;
      input.value = i;
      if (answers[index] === i) input.checked = true;

      label.appendChild(input);
      label.appendChild(document.createTextNode(opt));
      answersWrap.appendChild(label);
    });

    // back/next text
    document.getElementById('backBtn').textContent = index === 0 ? 'Back' : 'Back';
    document.getElementById('nextBtn').textContent = index === quiz.length - 1 ? 'Finish' : 'Next';
    hint.style.display = 'none';
  }

  function goToStep(newStep){
    step = newStep;
    if (step === 0){
      showPage(pages.welcome);
    } else if (step >= 1 && step <= quiz.length){
      showPage(pages.question);
      renderQuestion(step - 1);
    } else {
      // result
      const score = scoreQuiz();
      const total = quiz.length;
      const pct = Math.round((score/total)*100);
      summary.textContent = `you scored ${score}/${total} (${pct}%).`;

      resultBox.style.display = 'block';
      if (score === total){
        resultBox.className = 'result good';
        resultBox.textContent = "🎉 perfect! you know me so well. you win a date of your choice 💐";
        burstHearts();
      } else if (score >= 2){
        resultBox.className = 'result ok';
        resultBox.textContent = "😊 good job! you know me pretty well. bonus points for effort 💌";
      } else {
        resultBox.className = 'result bad';
        resultBox.textContent = "😅 cute try… we clearly need more dates so you can study 😜";
      }
      showPage(pages.result);
    }
  }

  function scoreQuiz(){
    return answers.reduce((acc, ans, i) => acc + (ans === quiz[i].correctIndex ? 1 : 0), 0);
  }

  // --- confetti hearts for perfect score
  function burstHearts(){
    for (let i=0;i<16;i++){
      const h = document.createElement('div');
      h.className = 'heart';
      const x = 50 + (Math.random()*40 - 20); // %
      const y = 55 + (Math.random()*10 - 5);  // %
      h.style.left = x + '%';
      h.style.top = y + '%';
      h.style.filter = `hue-rotate(${Math.random()*60 - 30}deg)`;
      app.appendChild(h);
      setTimeout(()=>h.remove(), 1200);
    }
  }

  // --- wire buttons
  document.getElementById('startBtn').addEventListener('click', () => goToStep(1));
  document.getElementById('backBtn').addEventListener('click', () => {
    if (step > 1) goToStep(step - 1);
    else goToStep(0);
  });
  document.getElementById('nextBtn').addEventListener('click', () => {
    const qIndex = step - 1;
    const selected = document.querySelector(`input[name="q${qIndex}"]:checked`);
    if (!selected){
      hint.style.display = 'block';
      return;
    }
    answers[qIndex] = Number(selected.value);
    goToStep(step + 1);
  });
  document.getElementById('retryBtn').addEventListener('click', () => {
    answers = new Array(quiz.length).fill(null);
    resultBox.style.display = 'none';
    goToStep(0);
  });

  // deep link support: #/1, #/2, ...
  window.addEventListener('hashchange', () => {
    const hash = location.hash.replace('#/','');
    const n = parseInt(hash, 10);
    if (!isNaN(n) && n >= 0 && n <= quiz.length+1) goToStep(n);
  });
  // update hash when step changes
  const _goToStep = goToStep;
  goToStep = function(s){ _goToStep(s); location.hash = `/${s}`; }
  // init
  goToStep(0);
</script>
</body>
</html>
